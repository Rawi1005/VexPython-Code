{"mode":"Text","textContent":"#region VEXcode Generated Robot Configuration\r\nfrom vex import *\r\nimport urandom\r\n\r\n# Brain should be defined by default\r\nbrain=Brain()\r\n\r\n# Robot configuration code\r\nbrain_inertial = Inertial()\r\ncontroller = Controller()\r\nmotor_left = Motor(Ports.PORT12, False)\r\nmotor_right = Motor(Ports.PORT8, True)\r\nmotor_spin = Motor(Ports.PORT2, False)\r\nmotor_shoot = Motor(Ports.PORT4, False)\r\nmotor_middle = Motor(Ports.PORT5, False)\r\n#endregion VEXcode Generated Robot Configuration\r\n\r\n# ------------------------------------------\r\n\r\n# Project: VEXcode Project\r\n# Author: Rawi N\r\n# Created: 22/1/2023\r\n# Description: VEXcode.py\r\n\r\n# ------------------------------------------\r\n# 3\r\n\r\n\r\n \r\n# ░█▀▀█ █▀▀█ █───█ ─▀─ 　 ░█▄─░█ \r\n# ░█▄▄▀ █▄▄█ █▄█▄█ ▀█▀ 　 ░█░█░█ \r\n# ░█─░█ ▀──▀ ─▀─▀─ ▀▀▀ 　 ░█──▀█\r\n\r\n\r\n\r\n# ไม่ต้องสนใจ\r\nx=1\r\ndetect = 0\r\n\r\n#-------------------------------------------\r\n\r\n# config speedmode\r\n\r\n#ปรับความเร็ว มอเตอร์หมุนวงล้อ สีม่วง\r\nmotor4speed = 100\r\n# ความเร็วการขึ้นของ ลิฟ สำหรับทำอันสีฟ้า\r\nliftspeed = 100\r\n# องศาการขึ้นของลิฟท์\r\nelevatordegrees = 170\r\n\r\n\r\n#---------------------------------------------\r\n\r\n# Library imports\r\nfrom vex import *\r\n\r\nimport time \r\n# ตัวแปลต่างๆ\r\n\r\nnon = 0\r\nshoot = 0\r\n\r\nplaceholder = 0\r\nchangemode = 0\r\n# ตั้งความเร็ว\r\nmotor_spin.set_velocity(motor4speed, PERCENT)\r\n\r\nbrain_inertial.set_heading(0, DEGREES)\r\nbrain_inertial.set_rotation(0, DEGREES)\r\n\r\nstdb = brain_inertial.rotation()\r\n\r\n# ไม่ต้องสนใจ\r\ndef drive(lspeed, rspeed):\r\n    \r\n    db = brain_inertial.rotation()-stdb\r\n    print(db)\r\n    # time.sleep(0.10)\r\n\r\n\r\n    if db <= -5:\r\n        motor_left.set_velocity(lspeed,PERCENT)\r\n        motor_right.set_velocity(rspeed,PERCENT)\r\n        \r\n        ### left ####\r\n    elif db >= 5:\r\n        motor_left.set_velocity(lspeed,PERCENT)\r\n        motor_right.set_velocity(rspeed,PERCENT)\r\n        \r\n        ### right ####\r\n\r\n    else:\r\n        motor_left.set_velocity(lspeed,PERCENT)\r\n        motor_right.set_velocity(rspeed,PERCENT)\r\n        \r\n        \r\n\r\n\r\n    motor_left.stop()\r\n    motor_right.stop()\r\n\r\n\r\ndef main():\r\n        #ตั้งความเร็วตามคันโยก\r\n        a = controller.axisA.position()\r\n        c = controller.axisC.position() / 1.5\r\n      \r\n        if a > 30 and c < -30:\r\n            print(\"ok\")\r\n            motor_left.set_velocity(a-30,PERCENT)\r\n            motor_right.set_velocity(a,PERCENT)\r\n        \r\n        elif a > 30 and c > 30:\r\n            print(\"ok\")\r\n            motor_left.set_velocity(a,PERCENT)\r\n            motor_right.set_velocity(a-30,PERCENT)\r\n        \r\n        elif a >= 10 or a <= -10:\r\n            #forward and backward เดินหน้าและถอยหลัง\r\n            drive(a,a)\r\n    \r\n        \r\n        elif c >= 10 or c <= -10:\r\n            #right and left เลี้ยวซ้ายและเลี้ยวขวา\r\n            drive(c, c*(-1))    \r\n            print(c)\r\n      \r\n            \r\n        else:\r\n            #stop\r\n            #สั่งมอเตอร์หยุด\r\n          \r\n            motor_left.set_velocity(0,PERCENT)\r\n            motor_right.set_velocity(0,PERCENT)\r\n\r\n        # ไม่ต้องสนใจ\r\n        motor_left.spin(FORWARD)\r\n        motor_right.spin(FORWARD)\r\n            \r\n   \r\n            \r\n           \r\n            \r\n#############################################################\r\n        \r\n# มันแค่รีเวิรส\r\ndef backward():\r\n   \r\n        a = controller.axisA.position() * (-1)\r\n        c = (controller.axisC.position() / 1.5) * (-1)\r\n            \r\n        if a > 30 and c < -30:\r\n            print(\"ok\")\r\n            motor_left.set_velocity(a,PERCENT)\r\n            motor_right.set_velocity(a-30,PERCENT)\r\n        \r\n        elif a > 30 and c > 30:\r\n            print(\"ok\")\r\n            motor_left.set_velocity(a-30,PERCENT)\r\n            motor_right.set_velocity(a,PERCENT)\r\n      \r\n        elif a >= 10 or a <= -10:\r\n            #forward and backward\r\n            drive(a,a)\r\n\r\n        elif c >= 10 or c <= -10:\r\n            #right and left\r\n            drive(c * (-1), c)\r\n\r\n        else:\r\n            #stop\r\n            #สั่งมอเตอร์หยุด\r\n            \r\n            motor_left.set_velocity(0,PERCENT)\r\n            motor_right.set_velocity(0,PERCENT)\r\n\r\n        # ไม่ต้องสนใจ\r\n        motor_left.spin(FORWARD)\r\n        motor_right.spin(FORWARD)\r\n\r\n       \r\n#############################################################\r\ndef spinpurple():\r\n\r\n    #if 02\r\n    if controller.buttonEUp.pressing():\r\n        #spin purple wheel    ปุ่มหมุนมอเตอร์สีม่วง กดติดปล่อยดับ\r\n        global non\r\n        if non %2 == 1:\r\n            motor_spin.stop();\r\n            \r\n            time.sleep(0.5)\r\n                \r\n        else:\r\n            motor_spin.spin(REVERSE)\r\n            \r\n            time.sleep(0.5)\r\n        non = non + 1\r\n        \r\n            \r\n######################################################\r\ndef shot():\r\n\r\n    if controller.buttonRUp.pressing():\r\n        global shoot\r\n        motor_shoot.set_velocity(100,PERCENT)\r\n        if shoot %2 == 1:\r\n            # motor_right.set_stopping(HOLD)\r\n            # motor_left.set_stopping(HOLD)\r\n            # motor_left.stop()\r\n            # motor_right.stop()\r\n            motor_shoot.stop()\r\n            \r\n            time.sleep(0.5)\r\n                \r\n        else:\r\n            motor_shoot.spin(FORWARD)\r\n            \r\n            time.sleep(0.5)\r\n        shoot = shoot + 1\r\n\r\n#######################################################\r\n\r\n# def lift():\r\n    \r\n#     if controller.buttonFUp.pressing():\r\n#         #elevator up ปุ่มกดนำลิฟท์ขึ้น\r\n\r\n#         elevator.spin(REVERSE)\r\n#         # elevator.spin_for(REVERSE,elevatordegrees, DEGREES)\r\n\r\n#     elif controller.buttonFDown.pressing():\r\n#         #elevator down ปุ่มกดนำลิฟท์ลง\r\n    \r\n#         elevator.spin(FORWARD)\r\n#         # elevator.spin_for(FORWARD,elevatordegrees+1, DEGREES)\r\n\r\n#     else:\r\n#         #stop # ไม่ต้องสนใจ\r\n#         elevator.set_stopping(HOLD)\r\n#         elevator.stop();\r\n\r\n\r\n\r\n##########################################################\r\n\r\ndef yellow():\r\n    if controller.buttonFDown.pressing():\r\n\r\n        #yellow collect up ปุ่มกดเพื่องัด สีเหลือง\r\n        motor_middle.set_velocity(80, PERCENT)\r\n        motor_middle.spin(FORWARD)\r\n    \r\n    elif controller.buttonFUp.pressing():\r\n        #yellow collect don ปุ่มกดเพื่อไม่งัดสีเหลือง\r\n        motor_middle.set_velocity(80, PERCENT)\r\n        motor_middle.spin(REVERSE)\r\n\r\n    else:\r\n        \r\n        motor_middle.set_stopping(COAST)\r\n        motor_middle.stop();\r\n\r\n\r\n#####################################################\r\n\r\n####### for fun only#######\r\n\r\n# def light():\r\n   \r\n#     checkleft = motor_left.velocity(PERCENT)\r\n#     checkright = motor_right.velocity(PERCENT)\r\n#     if checkleft < 0 or checkleft > 0 :\r\n#         touchled_left5.set_color(Color.GREEN)\r\n#         touchled_right3.set_color(Color.GREEN)\r\n  \r\n\r\n#     else:\r\n#         touchled_left5.set_color(Color.RED)\r\n#         touchled_right3.set_color(Color.RED)\r\n      \r\n\r\n\r\n\r\n    \r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nwhile True:\r\n    if controller.buttonLUp.pressing():\r\n        if changemode % 2 == 1:\r\n            x = 0\r\n        else:\r\n            x = 1\r\n        changemode += 1\r\n        #print(changemode)\r\n        time.sleep(0.5)\r\n    if x == 1:\r\n        backward()\r\n        spinpurple()\r\n        shot()\r\n        # lift()\r\n        yellow()\r\n        # light()\r\n    else:\r\n        main()\r\n        spinpurple()\r\n        shot()\r\n        # lift()\r\n        yellow()\r\n        # light()\r\n\r\n\r\n   \r\n  \r\n \r\n    \r\n\r\n","textLanguage":"python","rconfig":[{"port":[],"name":"controller","customName":false,"deviceType":"Controller","deviceClass":"controller","setting":{"left":"","leftDir":"false","right":"","rightDir":"false","e":"","eDir":"false","f":"","fDir":"false","l3r3":"","l3r3Dir":"false","drive":"none"},"triportSourcePort":22},{"port":[12],"name":"motor_left","customName":true,"deviceType":"Motor","deviceClass":"motor","setting":{"reversed":"false","fwd":"forward","rev":"reverse"},"triportSourcePort":22},{"port":[8],"name":"motor_right","customName":true,"deviceType":"Motor","deviceClass":"motor","setting":{"reversed":"true","fwd":"forward","rev":"reverse"},"triportSourcePort":22},{"port":[2],"name":"motor_spin","customName":true,"deviceType":"Motor","deviceClass":"motor","setting":{"reversed":"false","fwd":"forward","rev":"reverse"},"triportSourcePort":22},{"port":[4],"name":"motor_shoot","customName":true,"deviceType":"Motor","deviceClass":"motor","setting":{"reversed":"false","fwd":"forward","rev":"reverse"},"triportSourcePort":22},{"port":[5],"name":"motor_middle","customName":true,"deviceType":"Motor","deviceClass":"motor","setting":{"reversed":"false","fwd":"forward","rev":"reverse"},"triportSourcePort":22}],"slot":1,"platform":"IQ","sdkVersion":"20220726.10.00.00","appVersion":"2.4.5","minVersion":"2.4.0","fileFormat":"1.2.0","icon":"","targetBrainGen":"Second","target":"Physical"}